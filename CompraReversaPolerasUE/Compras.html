<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>COMPRAS</title>
    <link rel="stylesheet" href="estilocompra.css">
</head>
<body>
    <header>
        <section class="header-container" role="banner">
            <img src="logo final.png" alt="logo del colegio">
            <h1>MARCELINO CHAMPAGNAT UNIFORMES</h1>
            <nav aria-label="NavegaciÃ³n principal">
                <ul class="nav-menu">
                    <li><a href="Inicio.html" data-seccion="inicio" class="nav-link">Inicio</a></li>
                    <li><a href="Compras.html" data-seccion="compra" class="nav-link active">Compras</a></li>
                    <li><a href="Reservas.html" data-seccion="reserva" class="nav-link">Reservas</a></li>
                    <li><a href="Nosotros.html" data-seccion="nosotros" class="nav-link">Nosotros</a></li>
                </ul>
            </nav>
        </section>
    </header>
    <br>
    <br>
    <br>
    <br>
    <br>
    <h1 style="text-align: center; color: rgb(60, 31, 87); padding-top: 30px; padding-bottom: 30px;">Nuestro CatÃ¡logo</h1>
    <div class="poleras-grid">
        <div class="polera">
            <h2>Polera Cuello Azul</h2>
            <img src="POLERA CUELLO AZUL IA.png" alt="Polera Diaria Blanca">
            <p>Polera de algodÃ³n 85% de alta calidad.</p>
            <div class="opciones">
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 6" data-price="58" data-product="Polera Cuello Azul">
                    Talla 6 â†’ 58 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 8" data-price="58" data-product="Polera Cuello Azul">
                    Talla 8 â†’ 58 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 10" data-price="65" data-product="Polera Cuello Azul">
                    Talla 10 â†’ 65 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 12" data-price="68" data-product="Polera Cuello Azul">
                    Talla 12 â†’ 68 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 14" data-price="70" data-product="Polera Cuello Azul">
                    Talla 14 â†’ 70 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 16" data-price="70" data-product="Polera Cuello Azul">
                    Talla 16 â†’ 70 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla S" data-price="75" data-product="Polera Cuello Azul">
                    Talla S â†’ 75 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla M" data-price="75" data-product="Polera Cuello Azul">
                    Talla M â†’ 75 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBM" value="Talla L" data-price="80" data-product="Polera Cuello Azul">
                    Talla L â†’ 80 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBL" value="Talla XL" data-price="80" data-product="Polera Cuello Azul">
                    Talla XL â†’ 80 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaXBL" value="Talla XXL" data-price="80" data-product="Polera Cuello Azul">
                    Talla XXL â†’ 80 Bs
                </label>
            </div>
        </div>
        <div class="polera">
            <h2>Polera de Ed. Fisica</h2>
            <img src="POLERA ED FISICA IA.png" alt="Polera Diaria Blanca">
            <p>Polera de algodÃ³n 85% de alta calidad.</p>
            <div class="opciones">
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 6" data-price="55" data-product="Polera de Ed. Fisica">
                    Talla 6 â†’ 55 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 8" data-price="55" data-product="Polera de Ed. Fisica">
                    Talla 8 â†’ 55 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 10" data-price="63" data-product="Polera de Ed. Fisica">
                    Talla 10 â†’ 63 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 12" data-price="63" data-product="Polera de Ed. Fisica">
                    Talla 12 â†’ 63 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 14" data-price="67" data-product="Polera de Ed. Fisica">
                    Talla 14 â†’ 67 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla 16" data-price="67" data-product="Polera de Ed. Fisica">
                    Talla 16 â†’ 67 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla S" data-price="70" data-product="Polera de Ed. Fisica">
                    Talla S â†’ 70 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBS" value="Talla M" data-price="70" data-product="Polera de Ed. Fisica">
                    Talla M â†’ 70 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBM" value="Talla L" data-price="75" data-product="Polera de Ed. Fisica">
                    Talla L â†’ 75 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaBL" value="Talla XL" data-price="75" data-product="Polera de Ed. Fisica">
                    Talla XL â†’ 75 Bs
                </label>
                <label>
                    <input type="checkbox" name="PDiariaXBL" value="Talla XXL" data-price="80" data-product="Polera de Ed. Fisica">
                    Talla XXL â†’ 80 Bs
                </label>
            </div>
        </div>
    </div>
    <h3>Paga mediante este QR:</h3>
    <div class="qr">
        <img src="qr ejemplo.jpg" alt="">
    </div>
    
    <div style="display: none;" class="success-message" id="successMessage">
            Â¡Pedido enviado correctamente! Los checkboxes han sido reiniciados.
    </div>
   
    <div class="checkout-container">
        <button class="checkout-btn" id="checkoutBtn" disabled>Ver mi pedido</button>
    </div>
    <!-- Modal -->
    <div class="modal" id="orderModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Resumen de tu pedido</h2>
                <button class="close-btn" id="closeModal">&times;</button>
            </div>
            
            <div class="order-summary" id="orderSummary">
                <!-- AquÃ­ se mostrarÃ¡n los productos seleccionados -->
            </div>
            
            <div class="whatsapp-section">
                <button class="whatsapp-btn" id="whatsappBtn">
                    <span class="whatsapp-icon">ðŸ“±</span>
                    Enviar pedido por WhatsApp
                </button>
            </div>
        </div>
    </div>
    <br>
    <footer role="contentinfo">
        <div class="footer-social">
            <a href="https://www.facebook.com/share/1AbT1j4J4B/" aria-label="Facebook">Facebook</a>
            <a href="https://www.instagram.com/pastoralmarcelinochampagnatsc?igsh=MTF1eWdoNmc1MnA0dg==" aria-label="Instagram">Instagram</a>
            <a href="https://youtube.com/@cemarcelinochampagnat?si=JH-JBC3o_szCQGZ4" aria-label="YouTube">YouTube</a>
        </div>
        <p>&copy; 2025 Uniformes Marcelino Champagnat. Todos los derechos reservados.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const checkoutBtn = document.getElementById('checkoutBtn');
            const orderModal = document.getElementById('orderModal');
            const closeModal = document.getElementById('closeModal');
            const orderSummary = document.getElementById('orderSummary');
            const whatsappBtn = document.getElementById('whatsappBtn');
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            
            let selectedItems = [];
            
            // Actualizar estado del botÃ³n de checkout
            function updateCheckoutButton() {
                const anyChecked = Array.from(checkboxes).some(checkbox => checkbox.checked);
                checkoutBtn.disabled = !anyChecked;
            }
            
            // Actualizar items seleccionados
            function updateSelectedItems() {
                selectedItems = [];
                checkboxes.forEach(checkbox => {
                    if (checkbox.checked) {
                        selectedItems.push({
                            product: checkbox.dataset.product,
                            size: checkbox.value,
                            price: parseInt(checkbox.dataset.price)
                        });
                    }
                });
            }
            
            // Calcular el total
            function calculateTotal() {
                return selectedItems.reduce((total, item) => total + item.price, 0);
            }
            
            // Mostrar resumen en el modal
            function showOrderSummary() {
                if (selectedItems.length === 0) {
                    orderSummary.innerHTML = '<div class="empty-cart">No has seleccionado ningÃºn producto.</div>';
                    return;
                }
                
                let html = '';
                selectedItems.forEach(item => {
                    html += `
                        <div class="order-item">
                            <div>
                                <strong>${item.product}</strong> - Talla: ${item.size}
                            </div>
                            <div>${item.price} Bs</div>
                        </div>
                    `;
                });
                
                html += `
                    <div class="order-total">
                        <div>Total:</div>
                        <div>${calculateTotal()} Bs</div>
                    </div>
                `;
                
                orderSummary.innerHTML = html;
            }
            
            // Generar mensaje para WhatsApp
            function generateWhatsAppMessage() {
                let message = "Â¡Hola! Ya hice mi pedido, lo que seleccionÃ© fue:\n\n";
                
                selectedItems.forEach(item => {
                    message += `â€¢ ${item.product} - Talla: ${item.size} - ${item.price} Bs\n`;
                });
                
                message += `\nTotal: ${calculateTotal()} Bs\n\n`;
                message += "Â¡Muchas gracias!";
                
                return encodeURIComponent(message);
            }
            
            // Reiniciar todos los checkboxes
            function resetCheckboxes() {
                checkboxes.forEach(checkbox => {
                    checkbox.checked = false;
                });
                selectedItems = [];
                updateCheckoutButton();
            }
            
            // Mostrar mensaje de Ã©xito
            function showSuccessMessage() {
                successMessage.style.display = 'block';
                setTimeout(() => {
                    successMessage.style.display = 'none';
                }, 5000);
            }

            // Event listeners para checkboxes
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateSelectedItems();
                    updateCheckoutButton();
                });
            });
            
            // Abrir modal
            checkoutBtn.addEventListener('click', function() {
                updateSelectedItems();
                showOrderSummary();
                orderModal.style.display = 'flex';
            });
            
            // Cerrar modal
            closeModal.addEventListener('click', function() {
                orderModal.style.display = 'none';
            });
            
            // Cerrar modal al hacer clic fuera
            window.addEventListener('click', function(event) {
                if (event.target === orderModal) {
                    orderModal.style.display = 'none';
                }
            });
            
            // Enviar por WhatsApp
            whatsappBtn.addEventListener('click', function() {
                const phoneNumber = "75610440"; // Reemplazar con tu nÃºmero
                const message = generateWhatsAppMessage();
                const url = `https://wa.me/${phoneNumber}?text=${message}`;
                window.open(url, '_blank');
                // Reiniciar checkboxes y cerrar modal
                resetCheckboxes();
                orderModal.style.display = 'none';
                
                // Mostrar mensaje de Ã©xito
                showSuccessMessage();
            });
            
            // Inicializar
            updateCheckoutButton();
        });
    </script>
</body>
</html>